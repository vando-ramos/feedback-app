{"ast":null,"code":"import { reactive, onMounted, onBeforeUnmount, defineAsyncComponent } from 'vue';\nimport useModal from '../../hooks/useModal';\nconst ModalLogin = defineAsyncComponent(() => import('../modalLogin'));\nconst ModalSignup = defineAsyncComponent(() => import('../modalSignup'));\nconst DEFAULT_WIDTH = 'w-3/4 lg:w-1/3';\nexport default {\n  components: {\n    ModalLogin,\n    ModalSignup\n  },\n  setup() {\n    const modal = useModal();\n    const state = reactive({\n      isActive: false,\n      component: {},\n      props: {},\n      width: DEFAULT_WIDTH\n    });\n    onMounted(() => {\n      modal.listen(handleModalToogle);\n    });\n    onBeforeUnmount(() => {\n      modal.off(handleModalToogle);\n    });\n    function handleModalToogle(payload) {\n      console.log(payload);\n      if (payload.status) {\n        state.component = payload.component;\n        state.props = payload.props;\n        state.width = payload.width ?? DEFAULT_WIDTH;\n        console.log(payload.props.children);\n      } else {\n        state.component = {};\n        state.props = {};\n        state.width = DEFAULT_WIDTH;\n      }\n      state.isActive = payload.status;\n    }\n    return {\n      state,\n      handleModalToogle\n    };\n  }\n};","map":{"version":3,"names":["reactive","onMounted","onBeforeUnmount","defineAsyncComponent","useModal","ModalLogin","ModalSignup","DEFAULT_WIDTH","components","setup","modal","state","isActive","component","props","width","listen","handleModalToogle","off","payload","console","log","status","children"],"sources":["/home/vando/vue-br/feedback-app/src/components/modalFactory/index.vue"],"sourcesContent":["<template>\n  <teleport to='body'>\n    <div\n      v-if=\"state.isActive\"\n      class=\"fixed top-0 left-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50\"\n      @click=\"handleModalToogle({ status: false })\"\n    >\n      <div class=\"fixed mx-10\" :class=\"state.width\" @click.stop>\n        <div class=\"flex flex-col overflow-hidden bg-white rounded-lg animate__animated animate__fadeInDown animate__faster\">\n          <div class=\"flex flex-col px-12 py-10 bg-white\">\n            <component :is=\"state.component\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </teleport>\n</template>\n\n<script>\nimport { reactive, onMounted, onBeforeUnmount, defineAsyncComponent } from 'vue'\nimport useModal from '../../hooks/useModal'\n\nconst ModalLogin = defineAsyncComponent(() => import('../modalLogin'))\nconst ModalSignup = defineAsyncComponent(() => import('../modalSignup'))\n\nconst DEFAULT_WIDTH = 'w-3/4 lg:w-1/3'\n\nexport default {\n  components: {\n    ModalLogin,\n    ModalSignup\n  },\n  setup () {\n    const modal = useModal()\n    const state = reactive({\n      isActive: false,\n      component: {},\n      props: {},\n      width: DEFAULT_WIDTH\n    })\n\n    onMounted(() => {\n      modal.listen(handleModalToogle)\n    })\n\n    onBeforeUnmount(() => {\n      modal.off(handleModalToogle)\n    })\n\n    function handleModalToogle (payload) {\n      console.log(payload)\n      if (payload.status) {\n        state.component = payload.component\n        state.props = payload.props\n        state.width = payload.width ?? DEFAULT_WIDTH\n\n        console.log(payload.props.children)\n      } else {\n        state.component = {}\n        state.props = {}\n        state.width = DEFAULT_WIDTH\n      }\n\n      state.isActive = payload.status\n    }\n\n    return {\n      state,\n      handleModalToogle\n    }\n  }\n}\n</script>\n"],"mappings":"AAmBA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,eAAe,EAAEC,oBAAmB,QAAS,KAAI;AAC/E,OAAOC,QAAO,MAAO,sBAAqB;AAE1C,MAAMC,UAAS,GAAIF,oBAAoB,CAAC,MAAM,MAAM,CAAC,eAAe,CAAC;AACrE,MAAMG,WAAU,GAAIH,oBAAoB,CAAC,MAAM,MAAM,CAAC,gBAAgB,CAAC;AAEvE,MAAMI,aAAY,GAAI,gBAAe;AAErC,eAAe;EACbC,UAAU,EAAE;IACVH,UAAU;IACVC;EACF,CAAC;EACDG,KAAIA,CAAA,EAAK;IACP,MAAMC,KAAI,GAAIN,QAAQ,CAAC;IACvB,MAAMO,KAAI,GAAIX,QAAQ,CAAC;MACrBY,QAAQ,EAAE,KAAK;MACfC,SAAS,EAAE,CAAC,CAAC;MACbC,KAAK,EAAE,CAAC,CAAC;MACTC,KAAK,EAAER;IACT,CAAC;IAEDN,SAAS,CAAC,MAAM;MACdS,KAAK,CAACM,MAAM,CAACC,iBAAiB;IAChC,CAAC;IAEDf,eAAe,CAAC,MAAM;MACpBQ,KAAK,CAACQ,GAAG,CAACD,iBAAiB;IAC7B,CAAC;IAED,SAASA,iBAAgBA,CAAGE,OAAO,EAAE;MACnCC,OAAO,CAACC,GAAG,CAACF,OAAO;MACnB,IAAIA,OAAO,CAACG,MAAM,EAAE;QAClBX,KAAK,CAACE,SAAQ,GAAIM,OAAO,CAACN,SAAQ;QAClCF,KAAK,CAACG,KAAI,GAAIK,OAAO,CAACL,KAAI;QAC1BH,KAAK,CAACI,KAAI,GAAII,OAAO,CAACJ,KAAI,IAAKR,aAAY;QAE3Ca,OAAO,CAACC,GAAG,CAACF,OAAO,CAACL,KAAK,CAACS,QAAQ;MACpC,OAAO;QACLZ,KAAK,CAACE,SAAQ,GAAI,CAAC;QACnBF,KAAK,CAACG,KAAI,GAAI,CAAC;QACfH,KAAK,CAACI,KAAI,GAAIR,aAAY;MAC5B;MAEAI,KAAK,CAACC,QAAO,GAAIO,OAAO,CAACG,MAAK;IAChC;IAEA,OAAO;MACLX,KAAK;MACLM;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}