{"ast":null,"code":"import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Teleport as _Teleport } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col overflow-hidden bg-white rounded-lg animate__animated animate__fadeInDown animate__faster\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col px-12 py-10 bg-white\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [$setup.state.isActive ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"fixed top-0 left-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.handleModalToogle({\n      status: false\n    }))\n  }, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"fixed mx-10\", $setup.state.width]),\n    onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(), _createBlock(_resolveDynamicComponent($setup.state.component)))])])], 2 /* CLASS */)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createBlock","_Teleport","to","$setup","state","isActive","_createElementBlock","onClick","_cache","$event","_ctx","handleModalToogle","status","_createElementVNode","_normalizeClass","width","_withModifiers","_hoisted_1","_hoisted_2","_resolveDynamicComponent","component"],"sources":["/home/vando/vue-br/feedback-app/src/components/modalFactory/index.vue"],"sourcesContent":["<template>\n  <teleport to='body'>\n    <div\n      v-if=\"state.isActive\"\n      class=\"fixed top-0 left-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50\"\n      @click=\"handleModalToogle({ status: false })\"\n    >\n      <div class=\"fixed mx-10\" :class=\"state.width\" @click.stop>\n        <div class=\"flex flex-col overflow-hidden bg-white rounded-lg animate__animated animate__fadeInDown animate__faster\">\n          <div class=\"flex flex-col px-12 py-10 bg-white\">\n            <component :is=\"state.component\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </teleport>\n</template>\n\n<script>\nimport { reactive, onMounted, onBeforeUnmount, defineAsyncComponent } from 'vue'\nimport useModal from '../../hooks/useModal'\n\nconst ModalLogin = defineAsyncComponent(() => import('../modalLogin'))\n\nconst DEFAULT_WIDTH = 'w-3/4 lg:w-1/3'\n\nexport default {\n  components: {\n    ModalLogin\n  },\n  setup () {\n    const modal = useModal()\n    const state = reactive({\n      isActive: false,\n      component: {},\n      props: {},\n      width: DEFAULT_WIDTH\n    })\n\n    onMounted(() => {\n      modal.listen(handleModalToogle)\n    })\n\n    onBeforeUnmount(() => {\n      modal.off(handleModalToogle)\n    })\n\n    function handleModalToggle (payload) {\n      if (payload.status) {\n        state.component = payload.component\n        state.props = payload.props\n        state.width = payload.width ?? DEFAULT_WIDTH\n      } else {\n        state.component = {}\n        state.props = {}\n        state.width = DEFAULT_WIDTH\n      }\n\n      state.isActive = payload.status\n    }\n\n    return {\n      state,\n      handleModalToggle\n    }\n  }\n}\n</script>\n"],"mappings":";;EAQaA,KAAK,EAAC;AAAyG;;EAC7GA,KAAK,EAAC;AAAoC;;uBARvDC,YAAA,CAcWC,SAAA;IAdDC,EAAE,EAAC;EAAM,IAETC,MAAA,CAAAC,KAAK,CAACC,QAAQ,I,cADtBC,mBAAA,CAYM;;IAVJP,KAAK,EAAC,+FAA+F;IACpGQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,iBAAiB;MAAAC,MAAA;IAAA;MAEzBC,mBAAA,CAMM;IANDd,KAAK,EAAAe,eAAA,EAAC,aAAa,EAASX,MAAA,CAAAC,KAAK,CAACW,KAAK;IAAGR,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAQ,cAAA,CAAN,QAAW;MACvDH,mBAAA,CAIM,OAJNI,UAIM,GAHJJ,mBAAA,CAEM,OAFNK,UAEM,I,cADJlB,YAAA,CAAmCmB,wBAAA,CAAnBhB,MAAA,CAAAC,KAAK,CAACgB,SAAS,I"},"metadata":{},"sourceType":"module","externalDependencies":[]}